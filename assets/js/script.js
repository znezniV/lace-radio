var video,data,counter=0,request=new XMLHttpRequest;function parseData(e){var r=[];e.trim();var a=e.split(/\r?\n|\r/);return a.shift(),a.splice(-1,1),a.forEach(function(e,a){var t=e.split(";");t.splice(-1,1),r.push(t)}),parseData=shuffleArray(parseData),r}function getRandomID(e){return e[Math.floor(Math.random()*e.length)]}function shuffleArray(e){for(var a,t,r=e.length;0!==r;)t=Math.floor(Math.random()*r),a=e[r-=1],e[r]=e[t],e[t]=a;return e}request.open("GET","/data.csv",!0),request.onload=function(){if(200<=request.status&&request.status<400){var e=request.responseText;shuffleArray(data=parseData(e));var a=data[0];video={name:a[0],id:a[1]}}else console.log("did not get data")},request.onerror=function(){console.log("Couldn't load csv")},request.send();var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var player,firstScriptTag=document.getElementsByTagName("script")[0];function onYouTubeIframeAPIReady(){player=new YT.Player("player",{height:"100%",width:"100%",videoId:"NxUTashBrAY",playerVars:{modestbranding:!0,autoplay:1,rel:0,modestbranding:!0,autohide:1,showinfo:0,controls:0,playsinline:1,fs:0,iv_load_policy:3},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(e){e.target.a.classList.add("luminanceToAlpha"),player.loadVideoById({videoId:data[counter][1]}),e.target.playVideo()}firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var done=!1;function onPlayerStateChange(e){if(e.data==YT.PlayerState.ENDED){counter<data.length-1?counter++:counter=0;var a=data[counter];player.loadVideoById({videoId:a[1]})}}function stopVideo(){player.stopVideo()}